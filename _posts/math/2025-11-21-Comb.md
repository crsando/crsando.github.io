---
layout: post 
title: 一道很有意思的组合题
tags: math,education,comb
category: math
---


已知整数$n > 3$，求最大的整数$d$，使得对任意由$n$个整数组成的集合$S$中，均能找到$4$个不同（但不一定不相交）的非空子集，其每个集合中的元素之和均可被$d$整除。

***Solution***

显然$d < n$，若不然，我们取$n$个$\equiv 1 \mod d$的数，即可。

若$d = n-1$，我们构造$S$中恰好有一个元素$a_0 \equiv 0 \mod d$，其他元素$a_k \equiv 1 \mod d$，那么恰好只有三个集合

$$
\begin{aligned}
    S_1 &= \{a_0\} \\
    S_2 &= \{a_1, a_2, \cdots, a_{n-1}\} \\
    S_3 &= S
\end{aligned}
$$

满足元素和能被$d$整除。

我们来证明$d = n -2$时，一定能找到至少$4$个集合。

引理：任意$n$个数中，必然有若干个数之和能被$n$整除。

引理的证明略（经典结论）

回到原问题，设$S = \{a_1, a_2, \cdots, a_n\}$

为方便叙述，若一个集合的元素和能被$n-2$整除，我们称这个集合是好的。

由引理，必定能够找到一个非空的$T_1 \subset \{a_1, \cdots, a_{n-2}\}$是好的。

不妨设$a_i \in T$，那么再利用引理，我们可以找到$T_2 \subset S \backslash\{a_i, a_{n-1}\}$也是好的。

接下来讨论，若$T_1 \cap T_2 = \empty$，那么我们随便取一个$a_j \in T_2$，可以找到$T_3 \subseteq S \backslash\{a_i, a_j\}$也还好的，所以$T_1, T_2,T_3, T_1 \cup T_2$互不相同且都是好的，满足要求。

若$T_1 \cap T_2 \not = \empty$, 我们取$a_j \in T_2 - T_1$，同样取出一个$T_3 \subseteq S \backslash\{a_i, a_j\}$，然后考虑$a_s \in T_1 \cap T_2$, $a_t \in T_3$，那么我们可以找到$T_4 \subseteq S \backslash \{a_s, a_t\}$，则
$T_1, T_2, T_3, T_4$互不相同。

综上，所求的$d$的最小值为$n-2$