---
layout: post 
title: 几何题目整理（13）
tags: math,education,geometry
category: math
---


#### 1

设数列 $a_n = \min \left\{ k + \frac{n}{4k} \mid k \in \mathbb{N^*} \right\}$，定义“优数列”：$\Delta a_n = a_n - \lfloor a_n \rfloor (n = 1, 2, \ldots)$，其中 $\lfloor x \rfloor$ 表示不超过 $x$ 的最大整数。设 $S_n = \Delta a_1 + \Delta a_2 + \ldots + \Delta a_n$ 为优数列的前 $n$ 项和，试求 $S_{2024}$ 的值。

***Solution***

这题我们先转化一下，所谓$\Delta a_1$无非是求$a_1$的小数部分，用惯例的写法是$\{a_1\} = a_1 - \lfloor a_1 \rfloor$

第一部分，先考虑$a_n$，

对固定的$n$，考虑函数$f(x) = x + \frac{n}{4x}$，这个函数显然在$x > 0$上是先减后增的，我们考虑不等式（$k \in N$）

$$
\begin{aligned}
    & f(k+1) > f(k) \\
    \implies & k+ 1 + \frac{n}{4(k+1)} > k + \frac{n}{4k} \\
    \implies & 1 + \frac{n}{4(k+1)} > \frac{n}{4k} \\
    \implies & 1 + > \frac{n}{4k(k+1)} \\
    \implies & 4k(k+1) > n \\
    \implies & (2k+1)^2 > (n+1)^2 \\
    \implies & k > \frac{\sqrt{n+1} - 1}{2}
\end{aligned}
$$

故

$$
    k_n = \lceil \frac{\sqrt{n+1} - 1}{2} \rceil
    = \argmin_k \{k + \frac{n}{4k} \mid k \in N\}
$$

以及

$$
\begin{aligned}
    a_n &= k_n + \frac{n}{4k_n} \\
    \{a_n\} &= \frac{n}{4k_n} - \lfloor \frac{n}{4k_n}\rfloor \\
\end{aligned}
$$

我们现在考虑一下$k_n$，注意到

$$
\begin{aligned}
    & k_n - 1 < \frac{\sqrt{n+1} - 1}{2} \leqslant k_n \\
    \implies & (2k_n-1)^2 < n+1 \leqslant (2k_n + 1)^2 \\
    \implies & 4k_n(k_n-1)< n \leqslant 4k_n(k_n + 1) \\
    \implies & k_n-1< \frac{n}{4k_n} \leqslant k_n + 1 \\
\end{aligned}
$$

所以$\lfloor \frac{n}{4k_n} \rfloor$有两种可能值：$k_n - 1$或者$k_n$，所以我们还是需要分类讨论，更具体的，实际上就是分段求和。

为了叙述方便，我们用无穷求和，叠加一个布尔运算，定义符号

$$
[I] = \begin{cases}
    1 & 命题I为真
    0 & 命题I为假
\end{cases}
$$

可以用无穷求和写成

$$
\begin{aligned}
    s_k &= \sum_{n} \{a_n\}[k_n = k] \\
        &= \sum_{4k_n(k_n-1) < n < 4k_n^2} \{a_n\} +
            \sum_{4k_n^2 \leqslant n \leqslant 4k_n(k_n+1)} \{a_n\}
        \\
    \sum_{4k_n(k_n-1) < n < 4k_n^2} \{a_n\}
        &= \sum_{4k_n(k_n-1) < n < 4k_n^2}
            (\frac{n}{4k_n} - (k_n-1)) \\
        &= \frac{1}{4k_n}
        
\end{aligned}
$$