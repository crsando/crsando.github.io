---
layout: post 
title: 一个很神奇（SB）的三角函数数列题目
tags: math,education,geometry
category: math
---

数列$\{a_n\}$满足$a_1 = 1$，以及

$$
    a_{n+1} = \sqrt{S_n^2 + S_n + 1}
$$

其中$S_n = \sum_{k=1}^n a_k$。求$a_n$的通项公式。

***Solution***

大概算几项感觉没有解析解，所以肯定是三角，不过这道题比较诡异，思路是用余弦定理。

我们构造这么一个三角形，定点为$A_0$, 一边为$A_0B = 1$，另一边为$OA_n = S_n$，夹角为$120^\circ$，则对应长边就是$a_{n+1}$。

我们把$S_n$这边切开成$n$段，第一段到第$n$段的长度分别为$A_{k-1}A_k = a_k$。那么$A_kB = a_k$。

归纳计算角度，可知$\angle A_0A_kB = \frac{30^\circ}{2^{k-1}}$。

最后正弦定理得到

$$
    \frac{a_{n+1}}{\sin(120^\circ)} = \frac{1}{\sin(\frac{30^\circ}{2^{n-1}})}
$$

综上

$$
    a_n = \frac{\sin 60^\circ}{\sin(\frac{30^\circ}{2^{n-2}})}
$$